package extras

import (
	"github.com/jacobsa/go-serial/serial"
	"itkettle.org/avanier/gorecptprint/lib/tf6"
)

func PrintDummyGraphic(options serial.OpenOptions) {
	var printDummyGraph = []byte{
		0x1b, 0x2a, // Select and print Graphic

		0x02, // Dot density

		0x04, // N x 8 dots wide
		0x02, // N x 8 dots high

		0xff, 0x00, 0xff, 0x00,
		0xff, 0x00, 0xff, 0x00,
		0xff, 0x00, 0xff, 0x00,
		0xff, 0x00, 0xff, 0x00,
		0x00, 0xff, 0x00, 0xff,
		0x00, 0xff, 0x00, 0xff,
		0x00, 0xff, 0x00, 0xff,
		0x00, 0xff, 0x00, 0xff,

		0xff, 0x00, 0xff, 0x00,
		0xff, 0x00, 0xff, 0x00,
		0xff, 0x00, 0xff, 0x00,
		0xff, 0x00, 0xff, 0x00,
		0x00, 0xff, 0x00, 0xff,
		0x00, 0xff, 0x00, 0xff,
		0x00, 0xff, 0x00, 0xff,
		0x00, 0xff, 0x00, 0xff,
	}
	tf6.ExecuteHex(printDummyGraph, options)
}

func ByeTune(options serial.OpenOptions) {
	var readyTune = []byte{
		0x1b, 0x07,
		0x02,
		0x9a,
		0x1b, 0x07,
		0x01,
		0x99,
		0x1b, 0x07,
		0x01,
		0x95,
	}
	tf6.ExecuteHex(readyTune, options)
}

func ReadyTune(options serial.OpenOptions) {
	// Plays some beeps to signal end of initialization
	// See <p.144>
	var readyTune = []byte{
		0x1b, 0x07, // Start the sequence
		0x02, // Set the duration from 01 - FF times 0.1 seconds
		0x90, // Binary conversion of 10010000 - (10)<soft>(01)<octave 2>(0000)<note c>
		0x1b, 0x07,
		0x01,
		0x95,
		0x1b, 0x07,
		0x01,
		0x99,
	}
	tf6.ExecuteHex(readyTune, options)
}
